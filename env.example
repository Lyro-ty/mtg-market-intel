# =====================================================
# Dualcaster Deals - Environment Configuration
# =====================================================
# Copy this file to .env and fill in your values
# This single .env file works for both development and production

# -----------------
# Docker Compose Configuration
# -----------------
# Project name (used for container names)
COMPOSE_PROJECT_NAME=dualcaster

# Network name
NETWORK_NAME=dualcaster-network

# Restart policy (always, unless-stopped, no)
RESTART_POLICY=always

# Port mappings
API_PORT=8000
FRONTEND_PORT=3000
# Note: PostgreSQL and Redis ports are commented out in docker-compose.yml
# Uncomment them in docker-compose.yml if you need local access

# -----------------
# Application
# -----------------
API_DEBUG=false
SECRET_KEY=your-secret-key-change-in-production-generate-with-openssl-rand-hex-32

# -----------------
# Domain & URLs (for production)
# -----------------
DOMAIN=dualcasterdeals.com
FRONTEND_URL=https://dualcasterdeals.com

# -----------------
# Database (PostgreSQL)
# -----------------
POSTGRES_HOST=db
POSTGRES_PORT=5432
POSTGRES_USER=dualcaster_user
POSTGRES_PASSWORD=your-strong-database-password
POSTGRES_DB=dualcaster_deals

# -----------------
# Redis
# -----------------
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_URL=redis://redis:6379/0
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/0

# -----------------
# LLM Configuration
# -----------------
# Provider: openai, anthropic, or mock
LLM_PROVIDER=openai

# OpenAI
OPENAI_API_KEY=your-openai-api-key
OPENAI_MODEL=gpt-4o-mini

# Anthropic (optional)
ANTHROPIC_API_KEY=
ANTHROPIC_MODEL=claude-3-haiku-20240307

# -----------------
# Marketplace APIs
# -----------------
# TCGPlayer API (optional - requires partner agreement)
TCGPLAYER_API_KEY=
TCGPLAYER_API_SECRET=

# Cardmarket API (optional)
CARDMARKET_APP_TOKEN=
CARDMARKET_APP_SECRET=
CARDMARKET_ACCESS_TOKEN=
CARDMARKET_ACCESS_SECRET=

# CardTrader API (optional - for European market data)
CARDTRADER_API_TOKEN=
CARDTRADER_SECRET_KEY=

# -----------------
# Scryfall
# -----------------
# Rate limit: 50-100ms between requests (10 requests/second average)
# Default: 75ms (middle of recommended range)
SCRYFALL_BASE_URL=https://api.scryfall.com
SCRYFALL_RATE_LIMIT_MS=75

# -----------------
# Scraping Configuration
# -----------------
SCRAPER_USER_AGENT=MTGMarketIntel/1.0
SCRAPER_RATE_LIMIT_SECONDS=1.0
SCRAPER_MAX_RETRIES=3
SCRAPER_BACKOFF_FACTOR=2.0

# -----------------
# Scheduled Tasks
# -----------------
SCRAPE_INTERVAL_MINUTES=30
ANALYTICS_INTERVAL_HOURS=1
RECOMMENDATIONS_INTERVAL_HOURS=6

# -----------------
# CORS (for frontend)
# -----------------
# JSON array format: ["https://dualcasterdeals.com", "https://www.dualcasterdeals.com"]
# For development: ["http://localhost:3000"]
CORS_ORIGINS=["https://dualcasterdeals.com", "https://www.dualcasterdeals.com"]

# -----------------
# Frontend
# -----------------
# For production: /api (relative, uses Next.js rewrites)
# For development: http://localhost:8000
NEXT_PUBLIC_API_URL=/api
NEXT_PUBLIC_APP_NAME=Dualcaster Deals
